<h1 class="page-header">Blog Feed</h1>

<div class="row show-hide-message" *ngIf="message && newPost">
	<div [ngClass]="messageClass">
		{{message}}
	</div>
</div> 
<br />
<br />
<button type="button" name="button" class="btn btn-warning" *ngIf="!newPost" (click)="newBlogForm()">New Post</button>
<button [disabled]="loadingBlogs" type="button" name="button" class="btn btn-default" *ngIf="!newPost" (click)="reloadBlogs()"><span class="glyphicon glyphicon-repeat"></span>&nbsp;&nbsp;Reload</button>
<br />
<br />
<form [formGroup]="form" name="newBlogForm" (submit)="onBlogSubmit()" *ngIf="newPost">
	<!--Title-->
	<div class="form-group">
		<label for="title">Title</label>
		<div [ngClass]="{'has-success': form.controls.title.valid, 'has-error': form.controls.title.dirty && form.controls.title.errors}">
			<input type="text" name="title" class="form-control" placeholder="*Blog Title" autocomplete="off" formControlName="title">
			<ul class="help-block">
				<li *ngIf="form.controls.title.dirty && form.controls.title.errors?.required">This field is required.</li>
				<li *ngIf="(form.controls.title.dirty && form.controls.title.errors?.maxlength) || (form.controls.title.dirty && form.controls.title.errors?.minlength)">Max length is 50 characters, Min length is 5 characters.</li>
				<li *ngIf="form.controls.title.dirty && form.controls.title.errors?.alphaNumericValidation">Must be letters or numbers in the title.</li>
			</ul>
		</div>
	</div>
	<!--Title-->
	<!--Body-->
	<div class="form-group">
		<label for="body">Body</label>
		<div [ngClass]="{'has-success': form.controls.body.valid, 'has-error': form.controls.body.dirty && form.controls.body.errors}">
			<textarea name="body" rows="8" cols="80" placeholder="*Blog Body" class="form-control" formControlName="body"></textarea>
			<ul class="help-block">
				<li *ngIf="form.controls.body.dirty && form.controls.body.errors?.required">This field is required.</li>
				<li *ngIf="(form.controls.body.dirty && form.controls.body.errors?.maxlength) || (form.controls.body.dirty && form.controls.body.errors?.minlength)">Max length is 1000 characters, Min length is 5 characters.</li>
			</ul>
		</div>
	</div>
	    <button type="button" name="button" (click)="goBack()" class="btn btn-warning">Go Back</button>
	    <button [disabled]="processing || (form.controls.dirty && !form.valid)" type="submit" name="button" class="btn btn-success">Submit</button>
</form>


<div *ngIf="!newPost">
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">Post Title</h3>	
		</div>
		<div class="panel-body">
		My money's in that office, right? If she start giving me some bullshit about it ain't there, and we got to go someplace else and get it, I'm gonna shoot you in the head then and there. Then I'm gonna shoot that bitch in the kneecaps, find out where my goddamn money is. She gonna tell me too. Hey, look at me when I'm talking to you, motherfucker. You listen: we go in there, and that nigga Winston or anybody else is in there, you the first motherfucker to get shot. You understand?
		</div>
		<div class="panel-footer">
			<strong>Posted by: </strong>dmoore
			<br/>
			<strong>Date: </strong>5 Dec 2017
		</div>
		<div class="panel-footer">
			<strong>Likes: </strong>25<br/>
			<strong>Dslikes: </strong>22
		</div>
	
		<a href="#"><button style="{margin-left: 10px}" type="button" name="button" class="btn btn-sm btn-info">Edit</button></a>
		<a href="#"><button type="button" name="button" class="btn btn-sm btn-danger">Delete</button></a>
		<!--start Likes dropdown-->
		<div class="dropdown">
			<button type="button" name="button" class="btn btn-sm btn-success">
				<span class="glyphicon glyphicon-thumbs-up">&nbsp;</span>Likes: 21
			</button>
			<div class="dropdown-content">
				<a href="#">jblow</a>
				<a href="#">gettys</a>
				<a href="#">nomartash</a>
			</div>
		</div>
		<!--end Likes dropdown-->
		<!--start Disikes dropdown-->
		<div class="dropdown">
			<button type="button" name="button" class="btn btn-sm btn-warning">
				<span class="glyphicon glyphicon-thumbs-down">&nbsp;</span>Dislikes: 22
			</button>
			<div class="dropdown-content">
				<a href="#">tashkent</a>
				<a href="#">yanna</a>
				<a href="#">rita</a>
			</div>
		</div>
		<!--end Dislikes dropdown-->

		<ul class="list-group">
      		<li class="list-group-item">
      			<button type="button" name="button" class="btn btn-sm btn-danger" (click)="draftComment()">Post Comment</button>
      			<!--<form>
      				<textarea name="comment" rows="10" cols="30" class="form-control"></textarea>
      				<br/>
      				<button type="button" name="button" class="btn btn-sm btn-info">Submit Post</button>
      				<button type="button" name="button" class="btn btn-sm btn-danger">Cancel</button>
      			</form>-->
      		</li>
      	</ul>
	</div>
</div>

